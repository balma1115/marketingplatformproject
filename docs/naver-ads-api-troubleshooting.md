# ë„¤ì´ë²„ ê´‘ê³  API ì„±ê³¼ ë°ì´í„° ë¬¸ì œ ë¶„ì„ ë° í•´ê²° ë°©ì•ˆ

## ğŸ“Š í˜„ì¬ ìƒí™© ë¶„ì„

### âœ… ì‘ë™í•˜ëŠ” ê²ƒ
1. **ìº í˜ì¸ ê¸°ë³¸ ë°ì´í„°**: ì •ìƒ ì¡°íšŒ (8ê°œ ìº í˜ì¸)
2. **ê´‘ê³ ê·¸ë£¹ ê¸°ë³¸ ë°ì´í„°**: ì •ìƒ ì¡°íšŒ
3. **ìµœê·¼ ë‚ ì§œ ì„±ê³¼ ë°ì´í„°**: ì¼ë¶€ ì„±ê³µ
   - 2025ë…„ 8ì›”~9ì›”: ì„±ê³¼ ë°ì´í„° ìˆìŒ (3,140 ë…¸ì¶œ, 13 í´ë¦­)
   - 2025ë…„ 1ì›”~8ì›”: ì„±ê³¼ ë°ì´í„° ìˆìŒ (14,333 ë…¸ì¶œ, 41 í´ë¦­)

### âŒ ë¬¸ì œì 
1. **2024ë…„ 8ì›” ë°ì´í„°**: API 400 ì—ëŸ¬ ë°œìƒ
2. **ê´‘ê³ ê·¸ë£¹/í‚¤ì›Œë“œ ì„±ê³¼**: stats í•„ë“œê°€ ì—†ê±°ë‚˜ 0ê°’
3. **ë‚ ì§œ ë²”ìœ„ ì œí•œ**: íŠ¹ì • ê¸°ê°„ì—ë§Œ ë°ì´í„° ì¡´ì¬

## ğŸ”¬ ê°€ì„¤ ë° í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ê°€ì„¤ 1: ë‚ ì§œ ë²”ìœ„ ì œí•œ (âœ… í™•ì¸ë¨)
**ë¬¸ì œ**: StatReport APIëŠ” ìµœëŒ€ 31ì¼ ë°ì´í„°ë§Œ ì¡°íšŒ ê°€ëŠ¥
**ì¦ê±°**: 
- 2024-08-01 ~ 2025-09-05 (400ì¼+): âŒ 400 ì—ëŸ¬
- 2025-08-29 ~ 2025-09-05 (7ì¼): âœ… ì„±ê³µ
- 2025-08-06 ~ 2025-09-05 (30ì¼): âœ… ì„±ê³µ

**í•´ê²°ì±…**: ë‚ ì§œ ë²”ìœ„ë¥¼ 31ì¼ ì´ë‚´ë¡œ ì œí•œ

### ê°€ì„¤ 2: ì‹¤ì œ ë°ì´í„° ì—†ìŒ (âš ï¸ ë¶€ë¶„ í™•ì¸)
**ë¬¸ì œ**: íŠ¹ì • ê¸°ê°„ì— ê´‘ê³ ë¥¼ ìš´ì˜í•˜ì§€ ì•ŠìŒ
**ì¦ê±°**:
- 2024ë…„ 8ì›”: ë°ì´í„° ì—†ìŒ (ìº í˜ì¸ì´ 2025ë…„ 3ì›”ì— ìƒì„±ë¨)
- 2025ë…„ 8~9ì›”: ë°ì´í„° ìˆìŒ

### ê°€ì„¤ 3: API íŒŒë¼ë¯¸í„° ë¬¸ì œ (ğŸ” í™•ì¸ í•„ìš”)
**ë¬¸ì œ**: reportTp, dateFormat ë“± íŒŒë¼ë¯¸í„° ì˜¤ë¥˜
**í˜„ì¬ ì‚¬ìš©**:
- reportTp: 'CAMPAIGN', 'ADGROUP', 'KEYWORD'
- ë‚ ì§œ í˜•ì‹: YYYYMMDD (ëŒ€ì‹œ ì œê±°ë¨)

## ğŸ“ ë°ì´í„° ê°€ìš©ì„± í˜„í™©

### ìº í˜ì¸ë³„ ë°ì´í„° í˜„í™© (2025ë…„ 8~9ì›”)
| ìº í˜ì¸ëª… | ë…¸ì¶œìˆ˜ | í´ë¦­ìˆ˜ | ë¹„ìš© | ìƒíƒœ |
|---------|--------|--------|------|------|
| ë…¹ì–‘ì—­í•™ì› íŒŒì›Œë§í¬#1 | 137 | 3 | â‚©374 | âœ… |
| í”Œë ˆì´ìŠ¤#1 | 2,310 | 6 | â‚©1,247 | âœ… |
| ê°€ëŠ¥ë™ ë…¹ì–‘ë™ ì˜ìˆ˜í•™ì› | 334 | 1 | â‚©121 | âœ… |
| ì†Œìƒê³µì¸í”Œë ˆì´ìŠ¤#2 | 359 | 3 | â‚©330 | âœ… |
| í…ŒìŠ¤íŠ¸ ìº í˜ì¸ë“¤ | 0 | 0 | â‚©0 | âš ï¸ |

### ë‚ ì§œë³„ ë°ì´í„° ê°€ìš©ì„±
- âœ… 2025ë…„ 1ì›” ~ í˜„ì¬: ë°ì´í„° ìˆìŒ
- âŒ 2024ë…„ ì „ì²´: ë°ì´í„° ì—†ìŒ (ìº í˜ì¸ ë¯¸ì¡´ì¬)
- âš ï¸ 31ì¼ ì´ìƒ ë²”ìœ„: API ì—ëŸ¬

## ğŸ› ï¸ í•´ê²° ë°©ì•ˆ

### 1. ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ ìˆ˜ì •

#### A. ë‚ ì§œ ë²”ìœ„ ê²€ì¦ ë° ì œí•œ
```typescript
// API í˜¸ì¶œ ì „ ë‚ ì§œ ë²”ìœ„ ì²´í¬
const daysDiff = (new Date(dateTo) - new Date(dateFrom)) / (1000 * 60 * 60 * 24);
if (daysDiff > 31) {
  // 31ì¼ì”© ë¶„í• í•˜ì—¬ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œ
  const chunks = splitDateRange(dateFrom, dateTo, 31);
  const results = await Promise.all(chunks.map(chunk => 
    getStatReports(chunk)
  ));
  return mergeResults(results);
}
```

#### B. ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 
```typescript
try {
  const stats = await naverAdsApi.getStatReports({
    reportTp: 'CAMPAIGN',
    dateRange: {
      since: dateFrom.replace(/-/g, ''),
      until: dateTo.replace(/-/g, '')
    },
    ids: [campaignId]
  });
  return stats;
} catch (error) {
  // 400 ì—ëŸ¬ì¸ ê²½ìš° ë¹ˆ ë°ì´í„° ë°˜í™˜
  if (error.status === 400) {
    console.log('No data available for this date range');
    return {
      impCnt: 0,
      clkCnt: 0,
      salesAmt: 0,
      ctr: 0,
      cpc: 0
    };
  }
  throw error;
}
```

### 2. API ìˆ˜ì • í•„ìš” ì‚¬í•­

#### campaigns/route.ts
- âœ… ë‚ ì§œ ë²”ìœ„ë¥¼ 31ì¼ë¡œ ì œí•œ
- âœ… ì—ëŸ¬ ì‹œ ê¸°ë³¸ê°’ ë°˜í™˜

#### adgroups/[adgroupId]/keywords/route.ts
- âš ï¸ StatReport API í˜¸ì¶œ ì¶”ê°€ í•„ìš”
- âš ï¸ í‚¤ì›Œë“œë³„ ì„±ê³¼ ë°ì´í„° ë§¤í•‘ í•„ìš”

#### í…ŒìŠ¤íŠ¸ëœ ì‘ë™ ì½”ë“œ íŒ¨í„´
```typescript
// ì‘ë™ í™•ì¸ëœ StatReport í˜¸ì¶œ
const statReports = await naverAdsApi.getStatReports({
  reportTp: 'CAMPAIGN',  // ë˜ëŠ” 'ADGROUP', 'KEYWORD'
  dateRange: {
    since: '20250829',  // YYYYMMDD í˜•ì‹
    until: '20250905'   // ìµœëŒ€ 31ì¼
  },
  ids: campaignIds      // ë°°ì—´ë¡œ ì „ë‹¬
});
```

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìš°ì„ ìˆœìœ„ 1 (ì¦‰ì‹œ ìˆ˜ì •)
- [ ] ë‚ ì§œ ë²”ìœ„ 31ì¼ ì œí•œ ì ìš©
- [ ] 400 ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€
- [ ] ê¸°ë³¸ê°’ ë°˜í™˜ ì²˜ë¦¬

### ìš°ì„ ìˆœìœ„ 2 (ê¸°ëŠ¥ ê°œì„ )
- [ ] í‚¤ì›Œë“œë³„ StatReport êµ¬í˜„
- [ ] ê´‘ê³ ê·¸ë£¹ë³„ ì„¸ë¶€ ì„±ê³¼ ì¶”ê°€
- [ ] ë‚ ì§œ ë²”ìœ„ ìë™ ë¶„í•  ì²˜ë¦¬

### ìš°ì„ ìˆœìœ„ 3 (UX ê°œì„ )
- [ ] ë°ì´í„° ì—†ìŒ ë©”ì‹œì§€ í‘œì‹œ
- [ ] ë¡œë”© ìƒíƒœ í‘œì‹œ
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ

## ğŸ¯ ê²°ë¡ 

**í•µì‹¬ ë¬¸ì œ**: StatReport APIì˜ 31ì¼ ì œí•œê³¼ 2024ë…„ ë°ì´í„° ë¶€ì¬

**ì¦‰ê° í•´ê²° ê°€ëŠ¥**: ë‚ ì§œ ë²”ìœ„ ì œí•œ ë° ì—ëŸ¬ ì²˜ë¦¬ë¡œ ëŒ€ë¶€ë¶„ í•´ê²°

**ì¶”ê°€ ì‘ì—… í•„ìš”**: í‚¤ì›Œë“œ/ê´‘ê³ ê·¸ë£¹ ë ˆë²¨ ì„±ê³¼ ë°ì´í„° êµ¬í˜„